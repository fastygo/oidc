# –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é Authelia –≤ Coolify

## üìã –ß–µ–∫–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º

- [x] –£ –≤–∞—Å –µ—Å—Ç—å —Ä–∞–±–æ—Ç–∞—é—â–∏–π Coolify —Å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º Traefik
- [x] –ù–∞—Å—Ç—Ä–æ–µ–Ω wildcard –¥–æ–º–µ–Ω (–Ω–∞–ø—Ä–∏–º–µ—Ä, `*.yourdomain.com`)
- [x] –†–∞–±–æ—Ç–∞—é—Ç SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã (Let's Encrypt)
- [ ] –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å Authelia –∑–∞–ª–∏—Ç –Ω–∞ GitHub

## üöÄ –®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

### 1.1 –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ GitHub

```bash
# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ git (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —Å–¥–µ–ª–∞–ª–∏)
git init
git add .
git commit -m "Initial Authelia setup for Coolify"

# –î–æ–±–∞–≤—å—Ç–µ remote –∏ –∑–∞–ø—É—à—å—Ç–µ
git remote add origin https://github.com/your-username/authelia-coolify.git
git branch -M main
git push -u origin main
```

### 1.2 –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –ø—É–±–ª–∏—á–Ω—ã–π
–ò–ª–∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ SSH –∫–ª—é—á–∏ –¥–ª—è –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –≤ Coolify.

## üîß –®–∞–≥ 2: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞ –≤ Coolify

### 2.1 –û—Ç–∫—Ä–æ–π—Ç–µ Coolify Dashboard

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Å–≤–æ–π –ø—Ä–æ–µ–∫—Ç
2. –ù–∞–∂–º–∏—Ç–µ **"+ Add"** –∏–ª–∏ **"New Resource"**
3. –í—ã–±–µ—Ä–∏—Ç–µ **"Deploy Git"** –∏ –≤ Build Pack: **"Docker Compose"**

### 2.2 –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∏—Å—Ç–æ—á–Ω–∏–∫

1. **Source Type:** Public Repository (–∏–ª–∏ Private, –µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–∏–ª–∏ SSH)
2. **Repository URL:** `https://github.com/your-username/authelia-coolify.git`
3. **Branch:** `main`
4. **Docker Compose Location:** `/` (–∫–æ—Ä–µ–Ω—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è)
5. –ù–∞–∂–º–∏—Ç–µ **"Continue"** –∏–ª–∏ **"Check"**

### 2.3 Coolify –ø—Ä–æ–≤–µ—Ä–∏—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

Coolify –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –ù–∞–π–¥–µ—Ç `docker-compose.yaml` (–Ω–µ `.yml`)!
- –û–±–Ω–∞—Ä—É–∂–∏—Ç —Å–µ—Ä–≤–∏—Å `authelia`
- –ü–æ–∫–∞–∂–µ—Ç —Å–ø–∏—Å–æ–∫ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

## ‚öôÔ∏è –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

### 3.1 –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

–í —Ä–∞–∑–¥–µ–ª–µ **Environment Variables** –¥–æ–±–∞–≤—å—Ç–µ:

| Name | Value | Description |
|------|-------|-------------|
| `ROOT_DOMAIN` | `yourdomain.com` | –í–∞—à –∫–æ—Ä–Ω–µ–≤–æ–π –¥–æ–º–µ–Ω |
| `TZ` | `Europe/Moscow` | –ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å |

### 3.2 Magic Variables (–∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è)

Coolify **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Å—Ç** —ç—Ç–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—Ä–∏ –¥–µ–ø–ª–æ–µ:

- `SERVICE_PASSWORD_64_JWT` - —Å–µ–∫—Ä–µ—Ç –¥–ª—è JWT (64 —Å–∏–º–≤–æ–ª–∞)
- `SERVICE_PASSWORD_64_SESSION` - —Å–µ–∫—Ä–µ—Ç –¥–ª—è —Å–µ—Å—Å–∏–π (64 —Å–∏–º–≤–æ–ª–∞)
- `SERVICE_PASSWORD_64_STORAGE` - –∫–ª—é—á —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è –ë–î (64 —Å–∏–º–≤–æ–ª–∞)
- `SERVICE_FQDN_AUTHELIA` - –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –¥–æ–º–µ–Ω (–Ω–∞–ø—Ä–∏–º–µ—Ä, `authelia-abc123.yourdomain.com`)
- `SERVICE_URL_AUTHELIA_9091` - –ø–æ–ª–Ω—ã–π URL —Å –ø–æ—Ä—Ç–æ–º

**–ù–∏—á–µ–≥–æ –¥–µ–ª–∞—Ç—å –Ω–µ –Ω—É–∂–Ω–æ** - Coolify —Å–∞–º –∏—Ö —Å–æ–∑–¥–∞—Å—Ç!

### 3.3 –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

| Name | Value | Description |
|------|-------|-------------|
| `LOG_LEVEL` | `info` | –£—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (trace, debug, info, warn, error) |
| `LOG_FORMAT` | `text` | –§–æ—Ä–º–∞—Ç –ª–æ–≥–æ–≤ (text, json) |
| `THEME` | `dark` | –¢–µ–º–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (light, dark, grey, auto) |

### 3.4 –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Shared Variables

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –æ–±—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ Coolify:

```env
# –í Coolify —Å–æ–∑–¥–∞–π—Ç–µ Shared Variable:
# Name: GLOBAL_DOMAIN
# Value: example.com

# –ó–∞—Ç–µ–º –≤ Environment Variables —Å–µ—Ä–≤–∏—Å–∞:
ROOT_DOMAIN={{environment.GLOBAL_DOMAIN}}
```

## üåê –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ–º–µ–Ω–∞

### 4.1 –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–æ–º–µ–Ω (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

Coolify –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Å—Ç –¥–æ–º–µ–Ω —á–µ—Ä–µ–∑ Magic Variable:
- `SERVICE_FQDN_AUTHELIA` ‚Üí `authelia-<uuid>.yourdomain.com`

### 4.2 –ö–∞—Å—Ç–æ–º–Ω—ã–π –¥–æ–º–µ–Ω (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ —Å–≤–æ–π –¥–æ–º–µ–Ω:

1. –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö —Å–µ—Ä–≤–∏—Å–∞ –Ω–∞–π–¥–∏—Ç–µ **"Domains"**
2. –ù–∞–∂–º–∏—Ç–µ **"Add Domain"**
3. –í–≤–µ–¥–∏—Ç–µ: `auth.yourdomain.com:9091`
4. Coolify –Ω–∞—Å—Ç—Ä–æ–∏—Ç Traefik –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

**–í–∞–∂–Ω–æ:** –ü–æ—Ä—Ç `:9091` –Ω—É–∂–µ–Ω —Ç–æ–ª—å–∫–æ –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏. –°–Ω–∞—Ä—É–∂–∏ —Å–µ—Ä–≤–∏—Å –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º HTTPS –ø–æ—Ä—Ç—É (443).

## üöÄ –®–∞–≥ 5: –ü–µ—Ä–≤—ã–π –¥–µ–ø–ª–æ–π

### 5.1 –ó–∞–ø—É—Å—Ç–∏—Ç–µ –¥–µ–ø–ª–æ–π

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
2. –ù–∞–∂–º–∏—Ç–µ **"Deploy"** –∏–ª–∏ **"Start"**
3. Coolify –Ω–∞—á–Ω–µ—Ç:
   - –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
   - –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å Magic Variables
   - –°–æ–∑–¥–∞–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
   - –ù–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å Traefik

### 5.2 –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –¥–µ–ø–ª–æ—è

–°–ª–µ–¥–∏—Ç–µ –∑–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–º –≤ —Ä–∞–∑–¥–µ–ª–µ **"Logs"**:

```
‚úÖ Cloning repository...
‚úÖ Generating secrets...
‚úÖ Creating network...
‚úÖ Starting authelia container...
‚úÖ Configuring Traefik...
‚úÖ Deployment successful!
```

### 5.3 –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
- **Status:** Running (–∑–µ–ª–µ–Ω—ã–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä)
- **Health:** Healthy (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω healthcheck)
- **URL:** –ö–ª–∏–∫–∞–±–µ–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞ –Ω–∞ –≤–∞—à –¥–æ–º–µ–Ω

## üîê –®–∞–≥ 6: –ü–µ—Ä–≤—ã–π –≤—Ö–æ–¥

### 6.1 –û—Ç–∫—Ä–æ–π—Ç–µ Authelia

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ URL:
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π: `https://authelia-<uuid>.yourdomain.com`
- –ö–∞—Å—Ç–æ–º–Ω—ã–π: `https://auth.yourdomain.com`

### 6.2 –í–æ–π–¥–∏—Ç–µ —Å –¥–µ—Ñ–æ–ª—Ç–Ω—ã–º–∏ credentials

```
Username: admin
Password: authelia
```

**‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û:** –°—Ä–∞–∑—É –∂–µ —Å–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª—å!

### 6.3 –ù–∞—Å—Ç—Ä–æ–π—Ç–µ 2FA

1. –ü–æ—Å–ª–µ –≤—Ö–æ–¥–∞ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings**
2. –í—ã–±–µ—Ä–∏—Ç–µ **Two-Factor Authentication**
3. –û—Ç—Å–∫–∞–Ω–∏—Ä—É–π—Ç–µ QR-–∫–æ–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º (Google Authenticator, Authy, etc.)
4. –í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è

## üîÑ –®–∞–≥ 7: –°–º–µ–Ω–∞ –¥–µ—Ñ–æ–ª—Ç–Ω–æ–≥–æ –ø–∞—Ä–æ–ª—è

### 7.1 –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –Ω–æ–≤—ã–π —Ö–µ—à –ø–∞—Ä–æ–ª—è

–ù–∞ –≤–∞—à–µ–º –ª–æ–∫–∞–ª—å–Ω–æ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ:

```bash
docker run authelia/authelia:latest authelia crypto hash generate argon2 --password 'your-strong-password'
```

–í—ã–≤–æ–¥ –±—É–¥–µ—Ç –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫–∏–º:
```
Digest: $argon2id$v=19$m=65536,t=3,p=4$...
```

### 7.2 –û–±–Ω–æ–≤–∏—Ç–µ users.yml

1. –û—Ç–∫—Ä–æ–π—Ç–µ `config/users.yml` –≤ –≤–∞—à–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
2. –ó–∞–º–µ–Ω–∏—Ç–µ —Ö–µ—à –ø–∞—Ä–æ–ª—è –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è `admin`:

```yaml
users:
  admin:
    displayname: "Admin User"
    password: "$argon2id$v=19$m=65536,t=3,p=4$YOUR_NEW_HASH_HERE"
    email: "admin@example.com"
    groups:
      - admin
      - users
```

3. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏ –∑–∞–∫–æ–º–º–∏—Ç—å—Ç–µ:

```bash
git add config/users.yml
git commit -m "Update admin password"
git push
```

### 7.3 Redeploy –≤ Coolify

1. –í–µ—Ä–Ω–∏—Ç–µ—Å—å –≤ Coolify
2. –ù–∞–π–¥–∏—Ç–µ –≤–∞—à Authelia —Å–µ—Ä–≤–∏—Å
3. –ù–∞–∂–º–∏—Ç–µ **"Redeploy"**
4. Coolify –ø–æ–¥—Ç—è–Ω–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏–∑ GitHub –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä

## üõ°Ô∏è –®–∞–≥ 8: –ó–∞—â–∏—Ç–∞ –¥—Ä—É–≥–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

### 8.1 –ü—Ä–∏–º–µ—Ä: –ó–∞—â–∏—Ç–∞ Traefik Dashboard

–í –≤–∞—à–µ–º Traefik compose –¥–æ–±–∞–≤—å—Ç–µ middleware:

```yaml
services:
  traefik:
    labels:
      - traefik.http.routers.dashboard.middlewares=authelia@docker
```

### 8.2 –ü—Ä–∏–º–µ—Ä: –ó–∞—â–∏—Ç–∞ –ª—é–±–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ –≤ Coolify

–î–ª—è –ª—é–±–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ –≤ Coolify –¥–æ–±–∞–≤—å—Ç–µ –≤ **Labels**:

```
traefik.http.routers.your-service-name.middlewares=authelia@docker
```

### 8.3 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∞–≤–∏–ª –¥–æ—Å—Ç—É–ø–∞

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `config/configuration.yml`:

```yaml
access_control:
  rules:
    # Traefik dashboard - —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤
    - domain: 'traefik.yourdomain.com'
      policy: 'two_factor'
      subject:
        - 'group:admin'
    
    # –î—Ä—É–≥–æ–π —Å–µ—Ä–≤–∏—Å - –¥–ª—è –≤—Å–µ—Ö –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö
    - domain: 'app.yourdomain.com'
      policy: 'one_factor'
```

–ó–∞–∫–æ–º–º–∏—Ç—å—Ç–µ –∏ —Å–¥–µ–ª–∞–π—Ç–µ Redeploy.

## üìä –®–∞–≥ 9: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏

### 9.1 –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –≤ Coolify

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à Authelia —Å–µ—Ä–≤–∏—Å
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **"Logs"**
3. –í—ã–±–µ—Ä–∏—Ç–µ –≤—Ä–µ–º–µ–Ω–Ω–æ–π –¥–∏–∞–ø–∞–∑–æ–Ω
4. –§–∏–ª—å—Ç—Ä—É–π—Ç–µ –ø–æ —É—Ä–æ–≤–Ω—é (info, warn, error)

### 9.2 –ü—Ä–æ–≤–µ—Ä–∫–∞ healthcheck

Coolify –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∑–¥–æ—Ä–æ–≤—å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:

```yaml
healthcheck:
  test: ["CMD", "wget", "--no-verbose", "--tries=1", "--spider", "http://localhost:9091/api/health"]
  interval: 30s
  timeout: 10s
  retries: 3
```

–°—Ç–∞—Ç—É—Å –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ UI Coolify.

### 9.3 –§–∞–π–ª—ã –ª–æ–≥–æ–≤

–õ–æ–≥–∏ —Ç–∞–∫–∂–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤:
- `config/authelia.log` - –æ—Å–Ω–æ–≤–Ω—ã–µ –ª–æ–≥–∏
- `config/notifications.txt` - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è filesystem notifier)

## üîÑ Workflow –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:

1. **–õ–æ–∫–∞–ª—å–Ω–æ** –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª—ã (`config/configuration.yml`, `config/users.yml`)
2. **–ó–∞–∫–æ–º–º–∏—Ç—å—Ç–µ** –∏–∑–º–µ–Ω–µ–Ω–∏—è:
   ```bash
   git add config/
   git commit -m "Update configuration"
   git push
   ```
3. **–í Coolify** –Ω–∞–∂–º–∏—Ç–µ **"Redeploy"**
4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ** –ª–æ–≥–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è:

1. **–í Coolify** –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Environment Variables**
2. **–ò–∑–º–µ–Ω–∏—Ç–µ** –Ω—É–∂–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
3. **–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ**
4. **–ù–∞–∂–º–∏—Ç–µ** "Restart" (–Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è Redeploy)

## ‚ö†Ô∏è Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ –º–æ–≥—É –∑–∞–π—Ç–∏ –≤ Authelia

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –≤ Coolify (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å Running)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –æ—à–∏–±–∫–∏
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –¥–æ–º–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤–∞–ª–∏–¥–Ω—ã–º)

### –ü—Ä–æ–±–ª–µ–º–∞: Magic Variables –Ω–µ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:**
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å: `${SERVICE_PASSWORD_64_JWT}`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —É–∫–∞–∑–∞–Ω—ã –≤ `environment` —Å–µ–∫—Ü–∏–∏ docker-compose
3. –°–¥–µ–ª–∞–π—Ç–µ –ø–æ–ª–Ω—ã–π Redeploy (–Ω–µ –ø—Ä–æ—Å—Ç–æ Restart)

### –ü—Ä–æ–±–ª–µ–º–∞: Authelia –Ω–µ –∑–∞—â–∏—â–∞–µ—Ç –¥—Ä—É–≥–∏–µ —Å–µ—Ä–≤–∏—Å—ã

**–†–µ—à–µ–Ω–∏–µ:**
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ middleware –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è `authelia@docker`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –æ–±–∞ —Å–µ—Ä–≤–∏—Å–∞ –≤ –æ–¥–Ω–æ–π —Å–µ—Ç–∏
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª–∞ –¥–æ—Å—Ç—É–ø–∞ –≤ `config/configuration.yml`
4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Traefik

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∞ "Invalid credentials"

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å username/password
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ö–µ—à –ø–∞—Ä–æ–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π (—Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `config/users.yml` –Ω–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏
4. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ Authelia –¥–ª—è –¥–µ—Ç–∞–ª–µ–π

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [Authelia Documentation](https://www.authelia.com/docs/)
- [Coolify Documentation](https://coolify.io/docs)
- [Traefik ForwardAuth Middleware](https://doc.traefik.io/traefik/middlewares/http/forwardauth/)
- [ProHomeLab Authelia Guide](https://prohomelab.com/posts/single-sign-on/authelia/)

## ‚úÖ –§–∏–Ω–∞–ª—å–Ω—ã–π —á–µ–∫–ª–∏—Å—Ç

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è:

- [ ] Authelia –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ URL
- [ ] –í—Ö–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –¥–µ—Ñ–æ–ª—Ç–Ω—ã–º–∏ credentials
- [ ] –î–µ—Ñ–æ–ª—Ç–Ω—ã–π –ø–∞—Ä–æ–ª—å –∏–∑–º–µ–Ω–µ–Ω
- [ ] 2FA –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –•–æ—Ç—è –±—ã –æ–¥–∏–Ω —Å–µ—Ä–≤–∏—Å –∑–∞—â–∏—â–µ–Ω Authelia
- [ ] –õ–æ–≥–∏ –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã, –æ—à–∏–±–æ–∫ –Ω–µ—Ç
- [ ] Healthcheck –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "Healthy"
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ—á–∏—Ç–∞–Ω–∞

**–ü–æ–∑–¥—Ä–∞–≤–ª—è—é! Authelia —É—Å–ø–µ—à–Ω–æ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–∞ –≤ Coolify! üéâ**

---

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –≤–æ–ø—Ä–æ—Å—ã - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é. –£–¥–∞—á–∏! üöÄ

